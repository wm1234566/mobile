{"version":3,"file":"js/list.f09409aa.js","mappings":"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","sources":["webpack://home/./src/views/ListView.vue?b22f","webpack://home/./src/components/SearchC.vue?cc6c","webpack://home/src/components/SearchC.vue","webpack://home/./src/components/SearchC.vue?f328","webpack://home/./src/components/SearchC.vue","webpack://home/src/views/ListView.vue","webpack://home/./src/views/ListView.vue?6c0c","webpack://home/./src/views/ListView.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('SearchC',{attrs:{\"placeholder\":\"搜索list页面\",\"search\":_vm.showSearch}}),_c('ul',{staticClass:\"orders\"},_vm._l((_vm.orders),function(item){return _c('li',{key:item.id,class:item.sort ? 'down' : 'up',on:{\"touchend\":function($event){return _vm.orderList($event, item.id)}}},[_vm._v(\" \"+_vm._s(item.text)+\" \")])}),0),_vm._l((_vm.data),function(item){return _c('ProductC',{key:item.id,attrs:{\"data\":item}})}),(_vm.others.length && _vm.sosuo)?_c('div',{staticClass:\"di\",on:{\"touchend\":_vm.other}},[_c('span',[_vm._v(\"显示其他\"+_vm._s(_vm.others.length)+\"条商品数据\")]),_c('span',{staticClass:\"arrow\"})]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"searchC\"},[_c('div',{staticClass:\"search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder,\"required\":\"\"},domProps:{\"value\":(_vm.msg)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.Search.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.Search.apply(null, arguments)}],\"input\":function($event){if($event.target.composing){ return; }_vm.msg=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"searchC\">\r\n    <div class=\"search\">\r\n    <input\r\n      type=\"text\"\r\n      class=\"input\"\r\n      :placeholder=\"placeholder\"\r\n      v-model=\"msg\"\r\n      @keyup.enter=\"Search\"\r\n      @keyup.13=\"Search\"\r\n      \r\n      required\r\n    />\r\n    </div>\r\n  \r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.search {\r\n  width: 100%;\r\n  text-align: center;\r\n  background-color: white;\r\n}\r\n.input {\r\n  margin: 1rem auto;\r\n  width: 20rem;\r\n  height: 2rem;\r\n  font-size: 1rem;\r\n  line-height: 2rem;\r\n  border-radius:1rem 1rem 1rem 1rem;\r\n  border:none;\r\n  outline: none;\r\n  background-color:  #efefef;\r\n  padding: 0 1rem;\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    placeholder: String,\r\n    search:Function\r\n  },\r\n  data() {\r\n    return {\r\n      msg: \"\"\r\n    } \r\n  },\r\n  methods: {\r\n\r\n    Search(e) {\r\n     \r\n      // this.$emit(\"search\", e);\r\n      this.search(e)\r\n      this.msg=\"\"\r\n      console.log(this)\r\n\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchC.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchC.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchC.vue?vue&type=template&id=32b8c5a6&scoped=true&\"\nimport script from \"./SearchC.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchC.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchC.vue?vue&type=style&index=0&id=32b8c5a6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32b8c5a6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"list\">\n    <SearchC placeholder=\"搜索list页面\" :search=\"showSearch\"></SearchC>\n\n    <ul class=\"orders\">\n      <!-- 绑定:data-id 属性麻烦，在target attribute中获取 -->\n      <!-- <li v-for=\"item in orders\" :key=\"item.id\"  @touchend=\"orderList\" :data-id=\"item.id\" >{{ item.text }}</li> -->\n      <li\n        v-for=\"item in orders\"\n        :key=\"item.id\"\n        @touchend=\"orderList($event, item.id)\"\n        :class=\"item.sort ? 'down' : 'up'\"\n      >\n        {{ item.text }}\n      </li>\n    </ul>\n\n    <ProductC v-for=\"item in data\" :key=\"item.id\" :data=\"item\"></ProductC>\n\n    <!--\n    我的想法\n  <ProductC v-for=\"item in others\" :key=\"item.id\" :data=\"item\" v-show=\"other\" ></ProductC>\n\n  <div v-if=\"others.length > 0\" class=\"di\" @touchend=\"other=!other\" v-show=\"!other\">\n      <span>显示其他{{ others.length }}条商品数据</span\n      ><span class=\"arrow\"></span>\n    </div>\n     -->\n    <!-- 会出现延迟穿透 -->\n    <!-- <div v-if=\"others.length > 0\" class=\"di\" @toucstart=\"other\" > -->\n    <!-- 先判断点击在隐藏 -->\n    <div @touchend=\"other\" v-if=\"others.length && sosuo\" class=\"di\">\n      <span>显示其他{{ others.length }}条商品数据</span\n      ><span class=\"arrow\"></span>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n@import \"@/base.scss\";\n.orders {\n  display: grid;\n  grid-template-columns: repeat(4, auto);\n  grid-template-rows: 1fr;\n  font-size: 0.8rem;\n  li {\n    text-align: center;\n    background-color: white;\n    padding: 1rem 0;\n\n    border-bottom: 0.2rem solid #efefef;\n    border-right: 0.2rem solid #efefef;\n    &:last-of-type {\n      border-right: none;\n    }\n    position: relative;\n  }\n  // 降序\n  .up::after {\n    position: absolute;\n    top: 1.3rem;\n    right: 0.4rem;\n    content: \"\"; //不写没有\n    @include arrow(0.4rem);\n  }\n  // 升序\n  .down::after {\n    position: absolute;\n\n    right: 0.4rem;\n    top: 0.9rem;\n    content: \"\"; //不写没有\n    @include arrow(0.4rem, #000, bottom);\n  }\n}\n.di {\n  // width: 1rem;\n\n  height: 3rem;\n  background-color: white;\n  border-bottom: 0.2rem solid #efefef;\n  border-top: 0.2rem solid #efefef;\n  line-height: 3rem;\n  text-align: center;\n  color: $navColor;\n\n  .arrow {\n    position: relative;\n    top: 0.3rem;\n    left: 0.2rem;\n\n    &::before {\n      position: absolute;\n      top: 0;\n      z-index: 20;\n\n      content: \"\";\n      @include arrow(0.5rem, white);\n    }\n    &::after {\n      position: absolute;\n      top: 0.2rem;\n      content: \"\";\n      @include arrow(0.5rem, $navColor);\n    }\n  }\n}\n</style>\n\n<script>\n// 导入search\nimport SearchC from \"@/components/SearchC.vue\";\n// 引入商品组件\nimport ProductC from \"@/components/ProductC.vue\";\n\nexport default {\n  data() {\n    return {\n      data: [], // 前三个数据\n      others: [], // 其他未显示后面的数据\n      orders: [\n        { text: \"价格排序\", id: \"price\", sort: true },\n        { text: \"销量排序\", id: \"sales\", sort: true },\n        { text: \"好评排序\", id: \"evaluate\", sort: true },\n        { text: \"优惠排序\", id: \"discount\", sort: true },\n      ],\n      sosuo: true,\n    };\n  },\n\n  created() {\n    // 获取数据\n    console.log(\"进入到list的路由数据\", this.$route); // 存储者当前页面的路由信息\n    this.getData();\n  },\n  components: {\n    SearchC,\n    ProductC,\n  },\n  // 监听搜索词的变化\n  watch: {\n    // 路由改变的时候刷新页面\n    $route() {\n      console.log(\"刷新到list的路由数据\", this.$route); // 存储者当前页面的路由信息\n      this.getData();\n    },\n\n    // // 监听store中的数据\n    //  \"$store.state.search\" (newValue,oldValue)\n    //  {\n    //     console.log(newValue,1111,oldValue);\n    //  }\n    search(newVal) {\n      // 是搜索\n      this.sosuo = false;\n      this.data = this.allData.filter((item) => {\n        return item.title.includes(newVal);\n      });\n      // console.log(newVal);\n    },\n  },\n  // 代理store中的数据\n\n  computed: {\n    search() {\n      return this.$store.state.search;\n    },\n\n    //前端实现搜索，就是对数组过滤\n  },\n\n  methods: {\n    // 定义获取数据的共方法，可以复用\n    getData() {\n      let { params } = this.$route;\n      this.$http\n        .get(\"/data/list\", {\n          // 第一个参数是一个对象传递query数据\n          params,\n        })\n        .then(\n          ({ data }) => {\n            this.allData = data;\n            this.data = data.slice(0, 3);\n            this.others = data.slice(3);\n          },\n          (err) => console.log(err)\n        );\n    },\n    // 展示搜索类\n    showSearch(e) {\n      ///console.log(\"xdfdfs\",e.target.value);\n\n      this.$store.commit(\"updateSearch\", e);\n    },\n    // 点击按钮以后，将剩余数据添加到上面列表，排序的时候直接排序上面的即可\n    other() {\n      this.data = this.data.concat(this.others); // 拼接，这方法是vue改写过的\n      // 清空ohters\n      this.others = [];\n      console.log(\"展开全部数据的字段\", this.data);\n    },\n\n    // 点击排序\n\n    orderList(e, id) {\n      // 服务端排序\n      /*\n     this.$http.get(\"/data/order\",{\n     id,\n     desc:-1,\n     type:this.$route.params.id,\n     }).then(({data})=>{\n\n           console.log(\"数据\",data)\n     })\n           */\n\n      // 本地排序\n      this.orders = this.orders.map((item) => {\n        // 如果是当前id\n        if (item.id === id) {\n          item.sort = !item.sort; // 修改标记\n\n          if (item.sort === true) {\n            // 判断是升序还是降序\n\n            if (id === \"discount\") {\n              this.data.sort((a, b) => {\n                // sort会改变数组\n                // 升序:\n                return (\n                  a[\"originPrice\"] -\n                  a[\"price\"] -\n                  (b[\"originPrice\"] - b[\"price\"])\n                );\n              });\n            } else {\n              this.data.sort((a, b) => {\n                // sort会改变数组\n                // 升序:\n                return a[id] - b[id]; // 升序  从小到大 id不一样\n              });\n            }\n          } else {\n            if (id === \"discount\") {\n              this.data.sort((a, b) => {\n                // sort会改变数组\n                // 降序:\n                return (\n                  b[\"originPrice\"] -\n                  b[\"price\"] -\n                  (a[\"originPrice\"] - a[\"price\"])\n                );\n              });\n            } else {\n              this.data.sort((a, b) => {\n                // sort会改变数组\n                // 降序:\n                return b[id] - a[id]; // 升序  从小到大 id不一样 // 升序  从小到大 id不一样\n              });\n            }\n          }\n        }\n        // 不管是不是当前id正常返回修改后的item对象\n        return item;\n      });\n    },\n    // 定义公共方法\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListView.vue?vue&type=template&id=6e5d6cac&scoped=true&\"\nimport script from \"./ListView.vue?vue&type=script&lang=js&\"\nexport * from \"./ListView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListView.vue?vue&type=style&index=0&id=6e5d6cac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e5d6cac\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","showSearch","_l","item","key","id","class","sort","on","$event","orderList","_v","_s","text","others","length","sosuo","other","_e","staticRenderFns","directives","name","rawName","value","expression","placeholder","domProps","type","indexOf","_k","keyCode","Search","apply","arguments","target","composing","msg","props","String","search","data","methods","e","console","log","component","orders","created","$route","getData","components","SearchC","ProductC","watch","newVal","allData","filter","title","includes","computed","$store","state","params","$http","get","then","err","commit","concat","map","a","b"],"sourceRoot":""}