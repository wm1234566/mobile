(self["webpackChunkhome"]=self["webpackChunkhome"]||[]).push([[93],{3941:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return m}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list"},[r("SearchC",{attrs:{placeholder:"搜索list页面",search:t.showSearch}}),r("ul",{staticClass:"orders"},t._l(t.orders,(function(e){return r("li",{key:e.id,class:e.sort?"down":"up",on:{touchend:function(r){return t.orderList(r,e.id)}}},[t._v(" "+t._s(e.text)+" ")])})),0),t._l(t.data,(function(t){return r("ProductC",{key:t.id,attrs:{data:t}})})),t.others.length&&t.sosuo?r("div",{staticClass:"di",on:{touchend:t.other}},[r("span",[t._v("显示其他"+t._s(t.others.length)+"条商品数据")]),r("span",{staticClass:"arrow"})]):t._e()],2)},s=[],o=(r(7327),r(1539),r(6699),r(2023),r(4916),r(4765),r(7042),r(2222),r(1249),r(2707),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"searchC"},[r("div",{staticClass:"search"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"input",attrs:{type:"text",placeholder:t.placeholder,required:""},domProps:{value:t.msg},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Search.apply(null,arguments)},function(e){return e.type.indexOf("key")||13===e.keyCode?t.Search.apply(null,arguments):null}],input:function(e){e.target.composing||(t.msg=e.target.value)}}})])])}),i=[],a={props:{placeholder:String,search:Function},data:function(){return{msg:""}},methods:{Search:function(t){this.search(t),this.msg="",console.log(this)}}},c=a,u=r(1001),l=(0,u.Z)(c,o,i,!1,null,"32b8c5a6",null),h=l.exports,d=r(1801),f={data:function(){return{data:[],others:[],orders:[{text:"价格排序",id:"price",sort:!0},{text:"销量排序",id:"sales",sort:!0},{text:"好评排序",id:"evaluate",sort:!0},{text:"优惠排序",id:"discount",sort:!0}],sosuo:!0}},created:function(){console.log("进入到list的路由数据",this.$route),this.getData()},components:{SearchC:h,ProductC:d.Z},watch:{$route:function(){console.log("刷新到list的路由数据",this.$route),this.getData()},search:function(t){this.sosuo=!1,this.data=this.allData.filter((function(e){return e.title.includes(t)}))}},computed:{search:function(){return this.$store.state.search}},methods:{getData:function(){var t=this,e=this.$route.params;this.$http.get("/data/list",{params:e}).then((function(e){var r=e.data;t.allData=r,t.data=r.slice(0,3),t.others=r.slice(3)}),(function(t){return console.log(t)}))},showSearch:function(t){this.$store.commit("updateSearch",t)},other:function(){this.data=this.data.concat(this.others),this.others=[],console.log("展开全部数据的字段",this.data)},orderList:function(t,e){var r=this;this.orders=this.orders.map((function(t){return t.id===e&&(t.sort=!t.sort,!0===t.sort?"discount"===e?r.data.sort((function(t,e){return t["originPrice"]-t["price"]-(e["originPrice"]-e["price"])})):r.data.sort((function(t,r){return t[e]-r[e]})):"discount"===e?r.data.sort((function(t,e){return e["originPrice"]-e["price"]-(t["originPrice"]-t["price"])})):r.data.sort((function(t,r){return r[e]-t[e]}))),t}))}}},p=f,g=(0,u.Z)(p,n,s,!1,null,"6e5d6cac",null),m=g.exports},4964:function(t,e,r){var n=r(5112),s=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[s]=!1,"/./"[t](e)}catch(n){}}return!1}},3929:function(t,e,r){var n=r(7854),s=r(7850),o=n.TypeError;t.exports=function(t){if(s(t))throw o("The method doesn't accept regular expressions");return t}},6699:function(t,e,r){"use strict";var n=r(2109),s=r(1318).includes,o=r(1223);n({target:"Array",proto:!0},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},2023:function(t,e,r){"use strict";var n=r(2109),s=r(1702),o=r(3929),i=r(4488),a=r(1340),c=r(4964),u=s("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(a(i(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=list-legacy.fb80e55f.js.map