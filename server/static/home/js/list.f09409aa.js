"use strict";(self["webpackChunkhome"]=self["webpackChunkhome"]||[]).push([[93],{3941:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[s("SearchC",{attrs:{placeholder:"搜索list页面",search:t.showSearch}}),s("ul",{staticClass:"orders"},t._l(t.orders,(function(e){return s("li",{key:e.id,class:e.sort?"down":"up",on:{touchend:function(s){return t.orderList(s,e.id)}}},[t._v(" "+t._s(e.text)+" ")])})),0),t._l(t.data,(function(t){return s("ProductC",{key:t.id,attrs:{data:t}})})),t.others.length&&t.sosuo?s("div",{staticClass:"di",on:{touchend:t.other}},[s("span",[t._v("显示其他"+t._s(t.others.length)+"条商品数据")]),s("span",{staticClass:"arrow"})]):t._e()],2)},a=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchC"},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"input",attrs:{type:"text",placeholder:t.placeholder,required:""},domProps:{value:t.msg},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Search.apply(null,arguments)},function(e){return e.type.indexOf("key")||13===e.keyCode?t.Search.apply(null,arguments):null}],input:function(e){e.target.composing||(t.msg=e.target.value)}}})])])},i=[],n={props:{placeholder:String,search:Function},data(){return{msg:""}},methods:{Search(t){this.search(t),this.msg="",console.log(this)}}},c=n,l=s(1001),h=(0,l.Z)(c,o,i,!1,null,"32b8c5a6",null),d=h.exports,u=s(1801),p={data(){return{data:[],others:[],orders:[{text:"价格排序",id:"price",sort:!0},{text:"销量排序",id:"sales",sort:!0},{text:"好评排序",id:"evaluate",sort:!0},{text:"优惠排序",id:"discount",sort:!0}],sosuo:!0}},created(){console.log("进入到list的路由数据",this.$route),this.getData()},components:{SearchC:d,ProductC:u.Z},watch:{$route(){console.log("刷新到list的路由数据",this.$route),this.getData()},search(t){this.sosuo=!1,this.data=this.allData.filter((e=>e.title.includes(t)))}},computed:{search(){return this.$store.state.search}},methods:{getData(){let{params:t}=this.$route;this.$http.get("/data/list",{params:t}).then((({data:t})=>{this.allData=t,this.data=t.slice(0,3),this.others=t.slice(3)}),(t=>console.log(t)))},showSearch(t){this.$store.commit("updateSearch",t)},other(){this.data=this.data.concat(this.others),this.others=[],console.log("展开全部数据的字段",this.data)},orderList(t,e){this.orders=this.orders.map((t=>(t.id===e&&(t.sort=!t.sort,!0===t.sort?"discount"===e?this.data.sort(((t,e)=>t["originPrice"]-t["price"]-(e["originPrice"]-e["price"]))):this.data.sort(((t,s)=>t[e]-s[e])):"discount"===e?this.data.sort(((t,e)=>e["originPrice"]-e["price"]-(t["originPrice"]-t["price"]))):this.data.sort(((t,s)=>s[e]-t[e]))),t)))}}},g=p,m=(0,l.Z)(g,r,a,!1,null,"6e5d6cac",null),f=m.exports}}]);
//# sourceMappingURL=list.f09409aa.js.map